# version is now using "compose spec"
# v2 and v3 are now combined!
# docker-compose v1.27+ required

services:
  fe:
    build: ./front
    image: rujrawee11/fe:lastest
    ports: 
      - 5000:80

  mongo_db:
      container_name: db_container
      image: rujrawee11/mongo:lastest
      restart: always
      ports:
         - 2717:27017
    
  api:
      build: .
      ports:
          - 8088:80
      volumes:
          - .:/usr/src/app
      environment:
        PORT: 80
        MONGODB_URI: mongodb://myUserAdmin:myUserAdmin@localhost:27017
        DB_NAME: myUserAdmin
        NAME: myUserAdmin
      depends_on:
        - mongo_db
  volumes:
      mongo_db: {}


